[[section-building-block-view]]


== Vista del bloque de construcción

=== Nivel 1

[plantuml,Primer nivel,png]
----
@startuml
node {
actor Usuario
node Viade <<Aplicacion>> as Viade
database Pod

Usuario ->  Viade
Viade ->  Usuario
Pod -> Viade
Viade  -right-> Pod
}
@enduml
----
Leyenda:
|===
|Simbolo|Significado
|image:leyenda_actor_small.png["Actor",float="left",align="center", scaleheight=20px]|Usuario que interactua con la aplicación
|image:leyenda_viade_small.png["Viade",float="left",align="center", scaleheight=20px]|Conjunto de módulos de la aplicación
|image:leyenda_pod_small.png["Pod",float="left",align="center", scaleheight=20px]|POD de SOLID para almacenar información
|image:leyenda_node_small.png["Nodo",float="left",align="center", scaleheight=20px]|Contenedor de elementos del diagrama
|===

El usuario interacciona con la aplición para ver y compartir rutas.

La aplicación accede a los archivos del pod del usuario para guardar y cargar datos.

=== Nivel 2

[plantuml,Segundo nivel,png]
----
@startuml
node Viade <<Aplicacion>>{
  
  [Main]
  

  Main -down-> mapa
  Main -down-> inter
  Main -down-> pods
  
  node "Gestor de Mapa" as mapa{
    [Map]
  }
    node "Gestor de Pods" as pods{
    [UploadToPod]
    [MapList]
    [Share]
    [Notification]
  }
  node "Internacionalización" as inter{
    [ISelector]
  }
}
@enduml
----
Leyenda:
|===
|Simbolo|Significado
|image:leyenda_node_small.png["Nodo",float="left",align="center", scaleheight=20px]|Contenedor de elementos del diagrama
|image:leyenda_componente_small.png["Nodo",float="left",align="center", scaleheight=20px]|Componente react de importancia para la arquitectura
|===

El componente Main es el encargado de desplegar la aplicación y gestionar los distintos componentes de la misma.

En la gestión de Mapa existe un único componente importante. En esta sección se controla el mapa de la aplicación, para que sea visible al usuario.

La gestión de pods tiene diferentes componentes dedicados a distintas tareas. Estas tareas serán: guardar archivos en el pod, guardar las rutas publicas para compartirlas y de compartirlas, cargar las rutas para mostrarlas en el mapa y mostrar las notificaciones recibidas

La Internacionalización es llamada desde todos los modulos para obtener los textos a mostrar en la interfaz.

=== Nivel 3

==== Gestor de Mapa

[plantuml,Gestor de Mapa,png]
----
@startuml
  node "Gestor de Mapa" as mapa{
    [Map]
  }
@enduml
----
Leyenda:
|===
|Simbolo|Significado
|image:leyenda_node_small.png["Nodo",float="left",align="center", scaleheight=20px]|Contenedor de elementos del diagrama
|image:leyenda_componente_small.png["Nodo",float="left",align="center", scaleheight=20px]|Componente react de importancia para la arquitectura
|===

Este componente hace uso de la libreria de Leaflet para mostrar al usuario un mapa con diferentes layers en el que se mostraran las rutas gracias al componente MapList.

==== Gestor de Pods

[plantuml,Gestor de Pods,png]
----
@startuml
  node "Gestor de Pods" as pods{
    [UploadToPod]
    [MapList]
    [Share]
    [Notification]
  }
@enduml
----
Leyenda:
|===
|Simbolo|Significado
|image:leyenda_node_small.png["Nodo",float="left",align="center", scaleheight=20px]|Contenedor de elementos del diagrama
|image:leyenda_componente_small.png["Nodo",float="left",align="center", scaleheight=20px]|Componente react de importancia para la arquitectura
|===

El componente UploadToPod se encarga de subir los archivos seleccionados por el usuario al pod del mismo.

El componente MapList se encarga de listar los archivos disponibles en el pod del usuario y se comunica por el componente Map para mostrar las rutas que seleccione el usuario de la lista cargada.

El componente Share se encarga de mostrar una lista de amigos del usuario y hacer una copia de un archivo seleccionado por el usuario en una carpeta publica y compartir el enlace de dicha carpeta con los amigos seleccionados.

El componente Notification se encarga de mostar el numero de notificaciones que tiene el usuario en la carpeta inbox del pod.

==== Internacionalización

[plantuml,Internacionalización,png]
----
@startuml
  node "Internacionalización" as inter{
    [ISelector]
  }
@enduml
----
Leyenda:
|===
|Simbolo|Significado
|image:leyenda_node_small.png["Nodo",float="left",align="center", scaleheight=20px]|Contenedor de elementos del diagrama
|image:leyenda_componente_small.png["Nodo",float="left",align="center", scaleheight=20px]|Componente react de importancia para la arquitectura
|===

Este componente es llamado por el resto de componentes y se comunica con ellos para darles el texto a mostrar en el idioma seleccionado.
